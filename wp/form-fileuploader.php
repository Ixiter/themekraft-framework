<?php
class TK_WP_Fileuploader extends TK_Fileuploader{	/**	 * PHP 4 constructor	 *	 * @package Themekraft Framework	 * @since 0.1.0	 * 	 * @param string $name Name of colorfield	 * @param array $args Array of [ $id , $extra Extra colorfield code, option_groupOption group to save data, $before_textfield Code before colorfield, $after_textfield Code after colorfield   ]	 */	function tk_jquery_fileuploader( $name, $args = array() ){		$this->__construct( $name, $args );	}		/**	 * PHP 5 constructor	 *	 * @package Themekraft Framework	 * @since 0.1.0	 * 	 * @param string $name Name of colorfield	 * @param array $args Array of [ $id , $extra Extra colorfield code, option_groupOption group to save data, $before_textfield Code before colorfield, $after_textfield Code after colorfield   ]	 */	function __construct( $name, $args = array() ){		global $tk_form_instance_option_group;				$defaults = array(			'id' => substr( md5 ( time() * rand() ), 0, 10 ),			'extra' => '',			'before_element' => '',			'after_element' => '',			'upload_type' => 'standard', 			'upload_dir' => 'uploads'		);				// Adding file actions		add_filter( 'sanitize_option_' . $tk_form_instance_option_group . '_values', array( $this , 'validate_actions' ) );				$parsed_args = wp_parse_args( $args, $defaults );		extract( $parsed_args , EXTR_SKIP );
		$this->upload_type = $upload_type;		$this->upload_dir = $upload_dir;				$field_name = $tk_form_instance_option_group . '_values[' . $name . ']';					parent::__construct( $field_name, $args );
	}		function validate_actions( $input ){		echo '<br>Validating: <pre>';		print_r( $input );		echo '</pre>';		$value = $input[ $this->name ];				echo $value;				return $input;	}		function get_html(){		$html = parent::get_html();		return $html;	}}
function tk_form_fileuploader( $name, $args = array(), $return_object = FALSE ){	$fileuploader = new TK_WP_Fileuploader( $name, $args );		if( TRUE == $return_object ){		return $fileuploader;	}else{		return $fileuploader->get_html();	}}